<!DOCTYPE html>
<html lang="si">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Cinemax.lk</title>
<link rel="stylesheet" href="css/style.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">

<!-- Google reCAPTCHA API -->
<script src="https://www.google.com/recaptcha/api.js" async defer></script>

<style>
  /* Temporary style for human verification overlay */
  #humanVerification {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    height: 100vh;
    background: #111;
    color: #fff;
    position: fixed;
    top:0;
    left:0;
    width:100%;
    z-index: 9999;
  }
  #verifyBtn {
    margin-top: 15px;
    padding: 10px 20px;
    font-size: 16px;
    cursor: pointer;
  }
</style>
</head>

<body>

<!-- ===== HUMAN VERIFICATION SCREEN ===== -->
<div id="humanVerification">
    <h2>Please verify you are human</h2>
    <div class="g-recaptcha" data-sitekey="6Lcv8nAsAAAAAECDyVxngRpCaer43AGmlQx-5cbj"></div>
    <button id="verifyBtn">Verify</button>
</div>

<!-- ===== MAIN CONTENT (ORIGINAL) ===== -->
<div id="mainContent">

<!-- ===== HEADER ===== -->
<header class="hero-header">

    <div class="menu-btn" onclick="toggleMenu()">‚ò∞</div>

    <div class="logo-container">
        <img src="https://i.ibb.co/5gCt9Lvd/Rashmika-Ofc.jpg" alt="Cinemax 3D Logo">
    </div>

</header>

<!-- Top Blue Line -->
<div class="blue-line"></div>

<!-- LATEST MOVIES TITLE -->
<div class="latest-wrapper">
    <div class="latest-title">LATEST MOVIES</div>
</div>

<!-- ===== LAST 10 MOVIES SLIDER ===== -->
<section class="slider-section">
  <div class="slider" id="movieSlider"></div>
  <div class="slider-dots" id="sliderDots"></div>
</section>

<!-- Bottom Blue Line -->
<div class="blue-line"></div>

<!-- ===== SIDEBAR ===== -->
<div id="sidebar" class="sidebar">

    <div class="sidebar-search">
        <input type="text" id="searchInput" placeholder="Search movies..." class="sidebar-input">
    </div>

    <!-- Close Button -->
    <div class="close-btn" onclick="toggleMenu()">‚úï</div>
    
    <a href="index.html">‚ú¶ Home</a>
    <a href="dashboard.html">‚ú¶ Dashboard</a>
    <a href="contact.html">‚ú¶ Contact</a>
    <a href="dmca.html">‚ú¶ DMCA</a>
    <!-- Problems Link -->
<a href="javascript:void(0)" onclick="toggleProblems()">‚ú¶ Problems</a>

<!-- Compact Problems Form -->
<div id="problemsForm" style="display:none; margin-top:5px; padding:5px; background:#222; border-radius:6px;">
    <input type="text" id="pName" placeholder="Name" required>
    <input type="text" id="pUser" placeholder="User" required>
    <input type="email" id="pEmail" placeholder="Email" required>
    <input type="text" id="pNumber" placeholder="Number" required>
    <textarea id="pProblem" placeholder="Problem..." rows="2" required></textarea>
    <button onclick="sendProblem()">Submit ‚úîÔ∏è</button>
</div>
</div>

<!-- ===== MOVIE GRID SECTION ===== -->
<section class="container">

    <!-- Ticker -->
    <div class="ticker">
        <div class="ticker-track">
            <span>
                ‡∑É‡∑í‡∂Ç‡∑Ñ‡∂Ω ‡∑Ü‡∑í‡∂Ω‡∑ä‡∂∏‡∑ä‡∑É‡∑ä ‡∑Ñ‡∑è ‡∂ö‡∑è‡∂ß‡∑ñ‡∂±‡∑ä‡∑É‡∑ä ‡∂±‡∑ê‡∂ª‡∂π‡∑ì‡∂∏‡∂ß ‡∂Ö‡∂Ø‡∂∏ ‡∂¥‡∑í‡∑Ä‡∑í‡∑É‡∑ô‡∂±‡∑ä‡∂± @cinemax-lk ‡∑Ä‡∑ô‡∂∂‡∑ä ‡∂¥‡∑í‡∂ß‡∑î‡∑Ä ‡∑Ä‡∑ô‡∂≠. ‡∂î‡∂∂‡∂ß ‡∂∏‡∑ô‡∑Ñ‡∑í‡∂Ø‡∑ì player 1 ‡∂î‡∑É‡∑ä‡∑É‡∑ö ‡∑Ñ‡∑ù player 2 ‡∂î‡∑É‡∑ä‡∑É‡∑ö ‡∑Ü‡∑í‡∂Ω‡∑ä‡∂∏‡∑ä ‡∂±‡∑ê‡∂ª‡∂π‡∑ì‡∂∏‡∂ß ‡∑Ñ‡∑ê‡∂ö‡∑í‡∂∫‡∑è‡∑Ä ‡∂á‡∂≠.‡∂ë‡∑É‡∑ö ‡∂±‡∑ê‡∂≠‡∑Ñ‡∑ú‡∂≠‡∑ä download button ‡∂ë‡∂ö ‡∂ã‡∂© ‡∂î‡∂∂‡∑è ‡∂±‡∑ê‡∂ª‡∂π‡∑ì‡∂∏‡∂ß ‡∑Ñ‡∑è ‡∂∂‡∑è‡∂ú‡∂≠ ‡∂ö‡∑í‡∂ª‡∑ì‡∂∏‡∂ß ‡∑Ñ‡∑ê‡∂ö‡∑í‡∂∫‡∑è‡∑Ä ‡∂á‡∂≠. ‡∂∏‡∑ô‡∂∏ ‡∑Ä‡∑ô‡∂∂‡∑ä ‡∂Ö‡∂©‡∑Ä‡∑í‡∂∫ ‡∑É‡∂≠‡∑î ‡∑Ü‡∑í‡∂Ω‡∑ä‡∂∏‡∑ä‡∑É‡∑ä ‡∑Ä‡∂Ω ‡∂∫‡∂∏‡∑ä ‡∂ö‡∑í‡∑É‡∑í ‡∂Ø‡∑ù‡∑Å ‡∂á‡∂≠‡∑ä‡∂±‡∂∏‡∑ä ‡∂Ö‡∂¥ ‡∑Ñ‡∑è ‡∂Ö‡∂∏‡∂≠‡∂±‡∑ä‡∂±.
            </span>
            <span>
                ‡∑É‡∑í‡∂Ç‡∑Ñ‡∂Ω ‡∑Ü‡∑í‡∂Ω‡∑ä‡∂∏‡∑ä‡∑É‡∑ä ‡∑Ñ‡∑è ‡∂ö‡∑è‡∂ß‡∑ñ‡∂±‡∑ä‡∑É‡∑ä ‡∂±‡∑ê‡∂ª‡∂π‡∑ì‡∂∏‡∂ß ‡∂Ö‡∂Ø‡∂∏ ‡∂¥‡∑í‡∑Ä‡∑í‡∑É‡∑ô‡∂±‡∑ä‡∂± @cinemax-lk ‡∑Ä‡∑ô‡∂∂‡∑ä ‡∂¥‡∑í‡∂ß‡∑î‡∑Ä ‡∑Ä‡∑ô‡∂≠. ‡∂î‡∂∂‡∂ß ‡∂∏‡∑ô‡∑Ñ‡∑í‡∂Ø‡∑ì player 1 ‡∂î‡∑É‡∑ä‡∑É‡∑ö ‡∑Ñ‡∑ù player 2 ‡∂î‡∑É‡∑ä‡∑É‡∑ö ‡∑Ü‡∑í‡∂Ω‡∑ä‡∂∏‡∑ä ‡∂±‡∑ê‡∂ª‡∂π‡∑ì‡∂∏‡∂ß ‡∑Ñ‡∑ê‡∂ö‡∑í‡∂∫‡∑è‡∑Ä ‡∂á‡∂≠.‡∂ë‡∑É‡∑ö ‡∂±‡∑ê‡∂≠‡∑Ñ‡∑ú‡∂≠‡∑ä download button ‡∂ë‡∂ö ‡∂ã‡∂© ‡∂î‡∂∂‡∑è ‡∂±‡∑ê‡∂ª‡∂π‡∑ì‡∂∏‡∂ß ‡∑Ñ‡∑è ‡∂∂‡∑è‡∂ú‡∂≠ ‡∂ö‡∑í‡∂ª‡∑ì‡∂∏‡∂ß ‡∑Ñ‡∑ê‡∂ö‡∑í‡∂∫‡∑è‡∑Ä ‡∂á‡∂≠. ‡∂∏‡∑ô‡∂∏ ‡∑Ä‡∑ô‡∂∂‡∑ä ‡∂Ö‡∂©‡∑Ä‡∑í‡∂∫ ‡∑É‡∂≠‡∑î ‡∑Ü‡∑í‡∂Ω‡∑ä‡∂∏‡∑ä‡∑É‡∑ä ‡∑Ä‡∂Ω ‡∂∫‡∂∏‡∑ä ‡∂ö‡∑í‡∑É‡∑í ‡∂Ø‡∑ù‡∑Å ‡∂á‡∂≠‡∑ä‡∂±‡∂∏‡∑ä ‡∂Ö‡∂¥ ‡∑Ñ‡∑è ‡∂Ö‡∂∏‡∂≠‡∂±‡∑ä‡∂±.
            </span>
        </div>
    </div>

    <!-- Movie Grid -->
    <div id="movieList" class="movies-grid"></div>

    <!-- Pagination Controls -->
    <div class="pagination-controls">
        <button id="prevBtn" onclick="changePage(-1)">üëà Previous</button>
        <span id="pageInfo"></span>
        <button id="nextBtn" onclick="changePage(1)">Next üëâ</button>
    </div>

</section>
    
<!-- Social Media Section Start -->
<div class="social-section">
    <a href="#" class="social facebook" target="_blank">
        <i class="fab fa-facebook-f"></i>
    </a>
    <a href="#" class="social twitter" target="_blank">
        <i class="fab fa-twitter"></i>
    </a>
    <a href="https://youtube.com/@cinemax-u1s?si=0b8kzlpbY01ppDB3" class="social youtube" target="_blank">
        <i class="fab fa-youtube"></i>
    </a>
    <a href="#" class="social instagram" target="_blank">
        <i class="fab fa-instagram"></i>
    </a>
    <a href="https://whatsapp.com/channel/0029VbCQwiiAzNbtleGlQS1r" class="social whatsapp" target="_blank">
        <i class="fab fa-whatsapp"></i>
    </a>    
</div>

  <!-- Font Awesome CDN -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">

<!-- ===== FOOTER ===== -->
<footer>
 ¬© <span class="year">2026</span> Cinemax Downloads | Watch & Download 
  <span class="highlight">Sinhala Movies & Cartoons</span>
</footer>

</div> <!-- END MAIN CONTENT -->

<!-- ===== MAIN JS ===== -->
<script src="js/main.js"></script>

<!-- ===== SIDEBAR TOGGLE ===== -->
<script>
function toggleMenu() {
    document.getElementById("sidebar").classList.toggle("active");
}
function toggleProblems() {
    const form = document.getElementById("problemsForm");
    form.style.display = form.style.display === "none" ? "block" : "none";
}
</script>

<!-- ===== reCAPTCHA + verification ===== -->
<script>
const verifyBtn = document.getElementById("verifyBtn");
const humanVerification = document.getElementById("humanVerification");
const mainContent = document.getElementById("mainContent");

verifyBtn.addEventListener("click", async () => {
    const token = grecaptcha.getResponse();
    if(token.length === 0){
        alert("Please complete the CAPTCHA to verify you are human.");
        return;
    }

    // server-side verification
    try {
        const res = await fetch("/verify", {
            method: "POST",
            headers: {"Content-Type": "application/json"},
            body: JSON.stringify({"g-recaptcha-response": token})
        });
        const data = await res.json();
        if(data.success){
            humanVerification.style.display = "none";
            mainContent.style.display = "block";
        } else {
            alert("Verification failed! Try again.");
            grecaptcha.reset();
        }
    } catch(err){
        alert("Server verification error!");
        console.error(err);
    }
});
</script>

</body>
</html>
